{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../PembelianProdukKecantikan.svelte",
    "../../PembelianInventaris.svelte",
    "../../Sidebar.svelte",
    "../../TableViewer.svelte"
  ],
  "sourcesContent": [
    "<script>\n\t//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\timport '../node_modules/argon-design-system-free/assets/css/argon.min.css';\n\timport '../node_modules/argon-design-system-free/assets/vendor/bootstrap-datepicker/css/bootstrap-datepicker.css';\n\timport Sidebar from './layout/Sidebar.svelte';\n\timport Staf from './Pages/Staf.svelte';\n\timport TambahStaf from './Pages/TambahStaf.svelte';\n\timport ProdukKecantikan from './Pages/Produkkecantikan.svelte';\n\timport TambahProdukKecantikan from './Pages/TambahProdukkecantikan.svelte';\n\timport Layanan from './Pages/Layanan.svelte';\n\timport TambahLayanan from './Pages/TambahLayanan.svelte';\n\timport Pasien from './Pages/Pasien.svelte';\n\timport TambahPasien from './Pages/TambahPasien.svelte';\n\timport Dashboard from './Pages/Dashboard.svelte';\n\timport PembelianProdukKecantikan from './Pages/PembelianProdukKecantikan.svelte';\n\timport PembelianInventaris from './Pages/PembelianInventaris.svelte';\n\timport TabelPembelianProdukKecantikan from './Pages/TablePembelianProdukKecantikan.svelte'\n\timport TabelPembelianInventaris from './Pages/TablePembelianInventaris.svelte'\n\timport { Router, Link, Route } from \"svelte-routing\";\n\n\tlet containerMarginVisibletoSidebar = 250;\n\n\tfunction handleMessage(event) {\n\t\tcontainerMarginVisibletoSidebar = event.detail.text;\n\t}\n\n</script>\n\n<style type=\"text/css\">\n\n\t.content-wrapper{\n\t\tpadding-bottom: 200px;\n\t\tpadding-top: 20px;\n\t}\n\n\tfooter{\n\t\tfont-size: 13px;\n\t}\n\n</style>\n\t\n<Router>\n\t<Sidebar on:message={handleMessage}/>\n\n  \t<div class=\"content-wrapper\" style=\"margin-left: {containerMarginVisibletoSidebar}px\">\n  \t\t<Route path=\"dashboard\" component=\"{Dashboard}\" />\n    \t\n    \t\n    \t<!-- layanan -->\n    \t<Route path=\"/layanan\" component=\"{Layanan}\" />\n    \t<Route path=\"/layanan/tambah\" component=\"{TambahLayanan}\" />\n    \t<Route path=\"/layanan/edit/:id\" let:params>\n\t\t  <TambahLayanan id=\"{params.id}\" />\n\t\t</Route>\n\n\t\t<!-- staf -->\n    \t<Route path=\"/staf\" component=\"{Staf}\" />\n    \t<Route path=\"/staf/tambah\" component=\"{TambahStaf}\" />\n    \t<Route path=\"/staf/edit/:id\" let:params>\n\t\t  <TambahStaf id=\"{params.id}\" />\n\t\t</Route>\n\n\t\t<!-- produk -->\n    \t<Route path=\"/produkkecantikan\" component=\"{ProdukKecantikan}\" />\n    \t<Route path=\"/produkkecantikan/tambah\" component=\"{TambahProdukKecantikan}\" />\n    \t<Route path=\"/produkkecantikan/edit/:id\" let:params>\n\t\t  <TambahProdukKecantikan id=\"{params.id}\" />\n\t\t</Route>\n\n\t\t<!-- pasien -->\n    \t<Route path=\"/pasien\" component=\"{Pasien}\" />\n    \t<Route path=\"/pasien/tambah\" component=\"{TambahPasien}\" />\n    \t<Route path=\"/pasien/edit/:id\" let:params>\n\t\t  <TambahPasien id=\"{params.id}\" />\n\t\t</Route>\n\n\t\t<Route path=\"/beli-produkkecantikan\" component=\"{TabelPembelianProdukKecantikan}\"/>\n\t\t<Route path=\"/beli-produkkecantikan/:id\" let:params>\n\t\t  <PembelianProdukKecantikan id=\"{params.id}\" />\n\t\t</Route>\n\n\t\t<Route path=\"/beli-inventaris\" component=\"{TabelPembelianInventaris}\"/>\n\t\t<Route path=\"/beli-inventaris/:id\" let:params>\n\t\t  <PembelianInventaris id=\"{params.id}\" />\n\t\t</Route>\n\n    </div>\n    \n    <!-- /.content-wrapper -->\n  \t<footer class=\"main-footer\" style=\"margin-left: {containerMarginVisibletoSidebar}px;\">\n    \t<div class=\"float-right d-none d-sm-block\">\n      \t\t<b>Version</b> 1.0\n    \t</div>\n    \t<strong>Copyright &copy; 2020 <a href=\"#\">Lumera System</a>.</strong> All rights reserved.\n  \t</footer>\n</Router>\n\t\n\n\n\n\n\n\n\n\t\t\t\n\t\t",
    "<script>\n\n\t// import data\n\timport {onMount} from 'svelte'\n\timport Invoice from '../component/invoice.svelte';\n\timport {fade,fly } from 'svelte/transition';\n\timport {Link} from 'svelte-routing'\n\texport let id;\n\n\tlet data_raw  = [];\n\tlet cart      = [];\n\tlet data_bind = [];\n\tlet searchBox = \"\";\n\tlet bill = {\n\t\tsub_total : 0,\n\t\ttaxes : 0,\n\t\ttotal : 0\n\t}\n\tlet purchaseDetail = {\n  \t\tpurchase_id : '102',\n  \t\tpurchase_total : 0,\n  \t\tpurchase_status : 0,\n  \t\tpurchase_date : 0,\n  \t\tpurchase_items : []\n  \t}\n\n\t// settings for pagination\n\tlet num_of_page   = [];\n  \tlet active_now    = 1;\n  \tlet active_first  = 1;\n  \tlet active_last   = 9;\n  \tlet per_page_date = 9;\n\n\t// recalculate sub total and total when new or deleted item from cart \n\t$: {\n\n\t\tlet i;\n\t\tbill.sub_total = 0;\n\t\tbill.total = 0;\n\t\tfor(i = 0; i < cart.length; i++){\n\t\t\tbill.sub_total += cart[i].product_price * cart[i].product_qty;\n\t\t}\n\t\tbill.total = bill.sub_total - bill.taxes;}\n\n\t$: {\n\t    if (searchBox != \"\" && data_raw != []){\n\n\t      // reset page\n\t      data_bind = [];\n\t      let i =0;\n\t      let counter = 0;\n\n\t      for(i = 0; i < searchBox.length;i++){\n\t        for(let j = 0; j < data_raw.length;j++){\n\t          let confirmed = 0;\n\t          let name = data_raw[j][1].data;\n\t          for(let c = 0; c < searchBox.length;c++){\n\t            if(searchBox[c].toLowerCase() == name[c].toLowerCase()){\n\t              confirmed = 1;\n\t            }\n\t            else{\n\t              confirmed = 0;\n\t              break;\n\t            }\n\t          }\n\t          if(confirmed == 1){\n\t            data_bind[counter] = data_raw[j];\n\t            counter++;\n\t          }\n\t        }\n\t        counter = 0;\n\t      }\n\t    }\n\t    else if(searchBox == \"\" && data_raw != []){\n\t      data_bind = data_raw;\n\t    }\n\n\t    bindPage(data_bind.length);\n\t\n\t}\n\n\t// on mount\n\tonMount(async() => {\n\n\t\tif(id != \"pembelian-baru\"){\n\t\t\tfetch(\"http://127.0.0.1/lumeraAPI/pos_purchase/getAllproductPurchase.php?purchase_id=\" + id, {\n\t\t\t    method : 'GET'\n\t\t\t}).then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tpurchaseDetail.purchase_id     = data.purchase_id;\n\t\t\t\tpurchaseDetail.purchase_status = data.purchase_status;\n\t\t\t\tpurchaseDetail.purchase_total  = data.purchase_total;\n\t\t\t\tpurchaseDetail.purchase_date   = data.purchase_date;\n\t\t\t\tpurchaseDetail.purchase_items  = data.cart;\n\t\t\t\tcart = data.cart;\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t           \n\t\t\t})\n\t\t}\n\n\t\telse{\n\t\t\tpurchaseDetail.purchase_id = generateNewPurchaseId();\n\t\t}\n\n\t\tfetch(\"http://127.0.0.1/lumeraAPI/master_data/getAllProduct.php\", {\n\t\t    method : 'GET'\n\t\t}).then(res => res.json())\n\t\t.then(data => {\n\t\t  \tdata_raw = data;\n\t\t  \tdata_bind = data;\n\t\t  \tconsole.log(data_bind);\n\t\t    console.log(data_bind[1][1].data);\n\t\t})\n\t\t.catch(err => {\n\t\t           \n\t\t})\n\t})\n\n\tfunction formatRupiah(angka, prefix){\n\n\t\tif(angka != undefined){\n\t\t\tangka = angka.toString();\n\t\t    var number_string = angka.replace(/[^,\\d]/g, '').toString();\n\t\t    var split         = number_string.split(',');\n\t\t    var sisa          = split[0].length % 3;\n\t\t    var rupiah        = split[0].substr(0, sisa);\n\t\t    var ribuan        = split[0].substr(sisa).match(/\\d{3}/gi);\n\n\t\t    var separator;\n\t\t    // tambahkan titik jika yang di input sudah menjadi angka ribuan\n\t\t    if(ribuan){\n\t\t      separator = sisa ? '.' : '';\n\t\t      rupiah += separator + ribuan.join('.');\n\t\t     }\n\t\t \n\t\t    rupiah = split[1] != undefined ? rupiah + ',' + split[1] : rupiah;\n\t\t    return prefix == undefined ? rupiah : (rupiah ? 'Rp. ' + rupiah : '');\n\t\t}\n\t\treturn \"Rp. 0\"}\n\n\tfunction addToCart(id){\n\n\t\tlet i = 0;\n\t\tlet alreadyOnCart = false;\n\t\tfor(i; i < cart.length; i++){\n\t\t\t\n\t\t\t// only add the qty, if the same item already listed in cart\n\t\t\tif(cart[i].product_name == data_bind[id][1].data){\n\t\t\t\talreadyOnCart = true;\n\t\t\t\tcart[i].product_qty += 1;\n\t\t\t}\n\t\t}\n\n\t\t// add new item to the cart if the same item didn't exist yet\n\t\tif(alreadyOnCart == false){\n\t\t\tcart = [...cart, {\n\t\t\t\tproduct_id    : data_bind[id][0].data,\n\t\t\t\tproduct_name  : data_bind[id][1].data, \n\t\t\t\tproduct_price : data_bind[id][2].data,\n\t\t\t\tproduct_qty   : 1\n\t\t\t}];\n\t\t}\n\t\t\n\t}\n\n\tfunction itemQuantity(operand, i){\n\t\t\n\t\tif(operand == \"+\"){\n\t\t\tcart[i].product_qty++;\n\t\t}\n\n\t\telse if(operand == \"-\"){\n\t\t\tif(cart[i].product_qty > 1){\n\t\t\t\tcart[i].product_qty--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcart.splice(i, 1)\n\t\t\t\tcart = cart;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction bindPage(amount_of_data){\n    \tlet i = 0;\n    \tnum_of_page = [];\n\t    while(amount_of_data > per_page_date){\n\t      i = i + 1;\n\t      num_of_page.push(i);\n\t      amount_of_data -= per_page_date;\n\t    }\n\t    if(amount_of_data <= per_page_date){\n\t      i = i + 1;\n\t      num_of_page.push(i);\n\t    }\n\t    console.log(num_of_page);\n  \t}\n\n  \tfunction choosePage(page){\n\t    if(page == 1){\n\t      active_first = 1;\n\t      active_last = per_page_date;\n\t    }\n\t    else{\n\t      active_first = ((page - 1) * per_page_date) + 1;\n\t      active_last  = page * per_page_date;\n\t    }\n\t    active_now = page;\n\t    console.log(active_first);\n\t    console.log(active_last);\n  \t}\n\n  \tfunction generateNewPurchaseId(){\n  \t\tvar randVal = 101+(Math.random()*(999-101));\n  \t\treturn \"102-\" + Date.now() + \"\" + Math.round(randVal);\n  \t}\n\n  \tfunction goBack(){\n  \t\twindow.history.back();\n  \t}\n\n  \tfunction checkoutToApi(statusChooser){\n  \t\t\n  \t\t// if status is 0 it means only save\n  \t\t// if status is 1 it means checkout\n  \t\tlet status = 0;\n  \t\tif(statusChooser == \"checkout\"){\n  \t\t\tstatus = 1;\n  \t\t}\n\n  \t\tif(cart.length == 0){\n  \t\t\talert(\"Keranjang checkout tidak boleh kosong\");\n  \t\t}\n\n  \t\telse{\n  \t\t\tlet confirm_changes;\n  \t\t\tif(status == 0){\n  \t\t\t\tconfirm_changes = confirm(\"Anda yakin akan menyimpan pembelian ini?\\n* Data masih bisa dirubah\");\n  \t\t\t}\n\n  \t\t\telse{\n  \t\t\t\tconfirm_changes = confirm(\"Anda yakin akan menyimpan pembelian ini?\\n* Dengan melakukan checkout data sudah tidak bisa dirubah lagi\");\n  \t\t\t}\n\n\t\t\tif (confirm_changes == true) {\n\t  \t\t\t// fill the object \n\t  \t\t\tpurchaseDetail.purchase_total = bill.total\n\t  \t\t\tpurchaseDetail.purchase_items = cart;\n\t  \t\t\tpurchaseDetail.purchase_status = status; \n\t  \t\t\t\n\t  \t\t\tfetch(\"http://127.0.0.1/lumeraAPI/pos_purchase/saveProductPurchase.php\", {\n\t\t\t\t  method: \"POST\",\n\t\t\t\t  body: JSON.stringify(purchaseDetail),\n\t\t\t\t  headers: {\n\t\t\t\t    \"Content-Type\": \"application/x-www-form-urlencoded\"\n\t\t\t\t  }\n\t\t\t\t}).then(function(response) {\n\t\t\t\t  response.status     //=> number 100–599\n\t\t\t\t  response.statusText //=> String\n\t\t\t\t  response.headers    //=> Headers\n\t\t\t\t  response.url        //=> String\n\t\t\t\t  alert(\"Data berhasil disimpan\");\n\t\t\t\t  goBack();\n\t\t\t\t  console.log(response)\n\t\t\t\t}, function(error) {\n\t\t\t\t  error.message //=> String\n\t\t\t\t})\n\t\t\t}\n  \t\t}\n\n  \t}\n\n</script>\n\n<style>\n\n\t.container{\n\t\tfont-family:'Lato';\n\t}\n\t\n\t.cart{\n\t\toverflow-y: scroll;\n\t}\n\n\t.product .title, .cart .title{\n\t\tfont-family:'Lato';\n\t\tfont-weight: bold;\n\t}\n\n\t.bill_row_3 p{\n\t\tfont-weight:bold;\n\t}\n\n\t.cart{\n\t\theight:320px;\n\t}\n\n\t.cart-item .product-name{\n\t\tfont-family:'Lato';\n\t\tfont-size:12pt;\n\t}\n\n\t.cart-item .product-price{\n\t\tfont-family:'Lato';\n\t\tfont-size:10pt;\n\t\tfont-weight: bold;\n\t}\n\n\t.cart-item p{\n\t\tmargin:0;\n\t}\n\n\t.cart-item-quantity-container{\n\t\theight:24px;\n\t}\n\n\t.cart-item-quantity-container p{\n\t\tfont-size:10pt;\n\t}\n\t\n\t.cart-item-quantity-container i{\n\t\theight:24px;\n\t\tfont-size:6pt;\n\t\tborder-radius:5px;\n\t\tcursor: pointer;\n\t}\n\n\n\tinput::-webkit-outer-spin-button,\n\tinput::-webkit-inner-spin-button {\n\t  -webkit-appearance: none;\n\t  margin: 0;\n\t}\n\n</style>\n\n<div class=\"container\" style=\"margin-bottom:-150px;margin-top:20px;\">\n\t<span class=\"badge badge-pill badge-primary\">ID PEMBELIAN #{purchaseDetail.purchase_id}</span>\n\t{#if id == \"pembelian-baru\"}\n\t\t<span class=\"badge badge-pill badge-success\">PEMBELIAN BARU</span>\n\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-lg-8\">\n\t\t\t\t\t<div class=\"product mt-1\" style=\"height:640px;\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-lg-8 mb-3\">\n\t\t\t\t\t\t\t\t<h5 class=\"title mb-1 mt-1\">Daftar Pembelian Produk</h5>\n\t\t\t\t\t\t\t\t<p>Lakukan pembelian produk disini</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-lg-4\">\n\t\t\t\t\t\t\t\t<div class=\"input-group mt-2\">\n\t\t\t                      <input class=\"form-control\" bind:value=\"{searchBox}\" placeholder=\"Cari disini..\" type=\"text\">\n\t\t\t                      <div class=\"input-group-append\">\n\t\t\t                        <span class=\"input-group-text\"><i style=\"cursor: pointer;\" class=\"fa fa-search\"></i></span>\n\t\t\t                      </div>\n\t\t\t                    </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{#each data_bind as product, i}\n\t\t\t\t\t\t\t\t{#if i >= active_first - 1 && i < active_last && product[4].data == 1}\n\t\t\t\t\t\t\t\t\t<div class=\"col-lg-4\"> \n\t\t\t\t\t\t\t\t\t\t<div class=\"card p-3\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"mb-1\" style=\"font-size:1.0rem\">{product[1].data}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"mb-2\" style=\"font-weight: bold;font-size:0.8rem\">{formatRupiah(product[2].data, \"Rp. \")}/pcs</p>\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-success btn-sm\" on:click={()=>addToCart(i)}><i class=\"fa fa-plus p-2 bg-success \"></i>TAMBAHKAN</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<nav style=\"margin-top: 12px;position:absolute;left:20px;bottom:10px\">\n\t\t\t\t\t      \t<ul class=\"pagination pagination-lg\">\n\t\t\t\t\t        \t{#each num_of_page as page}\n\t\t\t\t\t          \t\t<li on:click=\"{choosePage(page)}\" class=\"page-item\"  class:active=\"{active_now === page}\" ><a class=\"page-link\">{page}</a></li>\n\t\t\t\t\t        \t{/each}\n\t\t\t\t\t      \t</ul>\n\t\t\t\t\t    </nav>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t<!-- cart, bill -->\n\t\t\t<div class=\"col-lg-4\">\n\n\t\t\t<!-- cart -->\n\t\t\t<div class=\"cart card p-3\">\n\t\t\t\t<h5 class=\"title mb-3\">Checkout</h5>\n\t\t\t\t{#if cart.length > 0}\n\t\t\t\t\t{#each cart as cart_item, i}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div transition:fly=\"{{ y: -200, duration: 650 }}\" class=\"card p-2 cart-item mb-2\">\n\t\t\t\t\t\t\t\t<p class=\"m-0 ml-2 product-name\">{cart_item.product_name}</p>\n\t\t\t\t\t\t\t\t<div class=\"cart-item-quantity-container ml-2 mt-1 mb-1 flex\">\n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-plus p-2 bg-success mr-2\" on:click={()=>itemQuantity(\"+\", i)}></i>\n\t\t\t\t\t\t\t\t\t<input class=\"form-control pl-0 pr-0\" style=\"width: 42px;height: 26px;font-size: 0.7rem;text-align: center;\" min=1 max=999  type=\"number\" oninput=\"validity.valid||(value=1);\" bind:value=\"{cart_item.product_qty}\" />\n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-minus p-2 bg-danger ml-2\" on:click={()=>itemQuantity(\"-\", i)}></i>\n\t\t\t\t\t\t\t\t\t<p class=\"m-0 ml-2 product-price\">@{formatRupiah(cart_item.product_price * cart_item.product_qty, \"Rp. \")}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t{:else if cart.length == 0}\n\t\t\t\t\t<p>Belum ada produk yang dipilih</p>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t\n\t\t\t<!-- bill -->\n\t\t\t<div class=\"card p-3\">\n\t\t\t\t<div class=\"row bill_row_1\">\n\t\t\t\t\t<div class=\"col\"><p>Subtotal</p></div>\n\t\t\t\t\t<div class=\"col\"><p style=\"text-align:right\">{formatRupiah(bill.sub_total, \"Rp. \")}</p></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row bill_row_2\">\n\t\t\t\t\t<div class=\"col\"><p>Pajak</p></div>\n\t\t\t\t\t<div class=\"col\"><p style=\"text-align:right\">{formatRupiah(bill.taxes, \"Rp. \")}</p></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row bill_row_3\">\n\t\t\t\t\t<div class=\"col\"><p>Total</p></div>\n\t\t\t\t\t<div class=\"col\"><p style=\"text-align:right;\">{formatRupiah(bill.total, \"Rp. \")}</p></div>\n\t\t\t\t</div>\n\t\t\t\t<hr class=\"mt-0 mb-3\"/>\n\t\t\t\t<div class=\"row ml-2 mr-2\">\n\t\t\t\t\t<button on:click={() => checkoutToApi(\"checkout\")} class=\"col-lg-12 btn btn-primary\">Checkout</button>\t\n\t\t\t\t\t<button on:click={() => checkoutToApi(\"save\")} class=\"col-lg-12 btn btn-outline-success mt-2\">Simpan</button>\n\t\t\t\t\t<button on:click={() => goBack()} class=\"col-lg-12 btn btn-outline-danger mt-2\">Batal</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t</div></div>\n\t{:else if id != \"pembelian-baru\"}\n\t\t{#if purchaseDetail.purchase_status == 0}\n\t\t\t<span class=\"badge badge-pill badge-danger\">BELUM CHECKOUT</span>\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-lg-8\">\n\t\t\t\t\t<div class=\"product mt-1\" style=\"height:640px;\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-lg-8 mb-3\">\n\t\t\t\t\t\t\t\t<h5 class=\"title mb-1 mt-1\">Daftar Pembelian Produk</h5>\n\t\t\t\t\t\t\t\t<p>Lakukan pembelian produk disini</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-lg-4\">\n\t\t\t\t\t\t\t\t<div class=\"input-group mt-2\">\n\t\t\t                      <input class=\"form-control\" bind:value=\"{searchBox}\" placeholder=\"Cari disini..\" type=\"text\">\n\t\t\t                      <div class=\"input-group-append\">\n\t\t\t                        <span class=\"input-group-text\"><i style=\"cursor: pointer;\" class=\"fa fa-search\"></i></span>\n\t\t\t                      </div>\n\t\t\t                    </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{#each data_bind as product, i}\n\t\t\t\t\t\t\t\t{#if i >= active_first - 1 && i < active_last && product[4].data == 1}\n\t\t\t\t\t\t\t\t\t<div class=\"col-lg-4\"> \n\t\t\t\t\t\t\t\t\t\t<div class=\"card p-3\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"mb-1\" style=\"font-size:1.0rem\">{product[1].data}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"mb-2\" style=\"font-weight: bold;font-size:0.8rem\">{formatRupiah(product[2].data, \"Rp. \")}/pcs</p>\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-success btn-sm\" on:click={()=>addToCart(i)}><i class=\"fa fa-plus p-2 bg-success \"></i>TAMBAHKAN</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<nav style=\"margin-top: 12px;position:absolute;left:20px;bottom:10px\">\n\t\t\t\t\t      \t<ul class=\"pagination pagination-lg\">\n\t\t\t\t\t        \t{#each num_of_page as page}\n\t\t\t\t\t          \t\t<li on:click=\"{choosePage(page)}\" class=\"page-item\"  class:active=\"{active_now === page}\" ><a class=\"page-link\">{page}</a></li>\n\t\t\t\t\t        \t{/each}\n\t\t\t\t\t      \t</ul>\n\t\t\t\t\t    </nav>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t<!-- cart, bill -->\n\t\t\t<div class=\"col-lg-4\">\n\n\t\t\t<!-- cart -->\n\t\t\t<div class=\"cart card p-3\">\n\t\t\t\t<h5 class=\"title mb-3\">Checkout</h5>\n\t\t\t\t{#if cart.length > 0}\n\t\t\t\t\t{#each cart as cart_item, i}\n\t\t\t\t\t\t<div transition:fly=\"{{ y: -200, duration: 650 }}\" class=\"card p-2 cart-item mb-2\">\n\t\t\t\t\t\t\t<p class=\"m-0 ml-2 product-name\">{cart_item.product_name}</p>\n\t\t\t\t\t\t\t<div class=\"cart-item-quantity-container ml-2 mt-1 mb-1 flex\">\n\t\t\t\t\t\t\t\t<i class=\"fa fa-plus p-2 bg-success mr-2\" on:click={()=>itemQuantity(\"+\", i)}></i>\n\t\t\t\t\t\t\t\t<input class=\"form-control pl-0 pr-0\" style=\"width: 42px;height: 26px;font-size: 0.7rem;text-align: center;\" min=1 max=999  type=\"number\" oninput=\"validity.valid||(value=1);\" bind:value=\"{cart_item.product_qty}\" />\n\t\t\t\t\t\t\t\t<i class=\"fa fa-minus p-2 bg-danger ml-2\" on:click={()=>itemQuantity(\"-\", i)}></i>\n\t\t\t\t\t\t\t\t<p class=\"m-0 ml-2 product-price\">@{formatRupiah(cart_item.product_price * cart_item.product_qty, \"Rp. \")}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t{:else if cart.length == 0}\n\t\t\t\t\t<p>Belum ada produk yang dipilih</p>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t\n\t\t\t<!-- bill -->\n\t\t\t<div class=\"card p-3\">\n\t\t\t\t<div class=\"row bill_row_1\">\n\t\t\t\t\t<div class=\"col\"><p>Subtotal</p></div>\n\t\t\t\t\t<div class=\"col\"><p style=\"text-align:right\">{formatRupiah(bill.sub_total, \"Rp. \")}</p></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row bill_row_2\">\n\t\t\t\t\t<div class=\"col\"><p>Pajak</p></div>\n\t\t\t\t\t<div class=\"col\"><p style=\"text-align:right\">{formatRupiah(bill.taxes, \"Rp. \")}</p></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row bill_row_3\">\n\t\t\t\t\t<div class=\"col\"><p>Total</p></div>\n\t\t\t\t\t<div class=\"col\"><p style=\"text-align:right;\">{formatRupiah(bill.total, \"Rp. \")}</p></div>\n\t\t\t\t</div>\n\t\t\t\t<hr class=\"mt-0 mb-3\"/>\n\t\t\t\t<div class=\"row ml-2 mr-2\">\n\t\t\t\t\t<button on:click={() => checkoutToApi(\"checkout\")} class=\"col-lg-12 btn btn-primary\">Checkout</button>\t\n\t\t\t\t\t<button on:click={() => checkoutToApi(\"save\")} class=\"col-lg-12 btn btn-outline-success mt-2\">Simpan</button>\n\t\t\t\t\t<button on:click={() => goBack()} class=\"col-lg-12 btn btn-outline-danger mt-2\">Batal</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t</div></div>\n\t\t{:else if purchaseDetail.purchase_status == 1}\n\t\t\t<Invoice invoice_data={purchaseDetail} />\n\t\t{/if}\n\t{/if}\n\n</div>",
    "<script>\n\nimport {onMount} from 'svelte';\nexport let id;\n\nlet cart = [];\n\nlet input_data = {\n\tproduct_name : \"\",\n\tproduct_price : \"\",\n\tproduct_qty : \"\"\n}\n\nlet purchaseDetail = {\n  \tpurchase_id : '180',\n  \tpurchase_total : 0,\n  \tpurchase_status : 0,\n  \tpurchase_date : 0,\n  \tpurchase_items : []\n}\n\n$: {\n\tlet i;\n\tpurchaseDetail.purchase_total = 0;\n\tfor(i = 0; i < cart.length; i++){\n\t\tpurchaseDetail.purchase_total += cart[i].product_price * cart[i].product_qty;\n\t}\n}\n\n// on mount\n\tonMount(async() => {\n\n\t\tif(id != \"pembelian-baru\"){\n\t\t\tfetch(\"http://127.0.0.1/lumeraAPI/pos_purchase/getAllInventaris.php?purchase_id=\" + id, {\n\t\t\t    method : 'GET'\n\t\t\t}).then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tpurchaseDetail.purchase_id     = data.purchase_id;\n\t\t\t\tpurchaseDetail.purchase_status = data.purchase_status;\n\t\t\t\tpurchaseDetail.purchase_total  = data.purchase_total;\n\t\t\t\tpurchaseDetail.purchase_date   = data.purchase_date;\n\t\t\t\tpurchaseDetail.purchase_items  = data.cart;\n\t\t\t\tcart = data.cart;\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t           \n\t\t\t})\n\t\t}\n\n\t\telse{\n\t\t\tpurchaseDetail.purchase_id = generateNewPurchaseId();\n\t\t}\n\n\t})\n\n// format rupiah\nfunction formatRupiah(angka, prefix){\n\n\tif(angka != undefined){\n\t\tangka = angka.toString();\n\t\tvar number_string = angka.replace(/[^,\\d]/g, '').toString();\n\t\tvar split         = number_string.split(',');\n\t\tvar sisa          = split[0].length % 3;\n\t\tvar rupiah        = split[0].substr(0, sisa);\n\t\tvar ribuan        = split[0].substr(sisa).match(/\\d{3}/gi);\n\n\t\tvar separator;\n\t\t// tambahkan titik jika yang di input sudah menjadi angka ribuan\n\t\tif(ribuan){\n\t\t    separator = sisa ? '.' : '';\n\t\t    rupiah += separator + ribuan.join('.');\n\t\t}\n\t\t \n\t\trupiah = split[1] != undefined ? rupiah + ',' + split[1] : rupiah;\n\t\treturn prefix == undefined ? rupiah : (rupiah ? 'Rp. ' + rupiah : '');\n\t}\n\treturn \"Rp. 0\"}\n\n// add item to cart\nfunction addToCart(product_name){\n\n\tlet i = 0;\n\tlet alreadyOnCart = false;\n\tfor(i; i < cart.length; i++){\t\t\n\t\t// only add the qty, if the same item already listed in cart\n\t\tif(product_name.toLowerCase() == cart[i].product_name.toLowerCase()){\n\t\t\talreadyOnCart = true;\n\t\t\tcart[i].product_qty += input_data.product_qty;\n\t\t\tclearInput();\n\t\t}\n\t}\n\n\t// add new item to the cart if the same item didn't exist yet\n\tif(alreadyOnCart == false){\n\t\tcart = [...cart, {\t\t\t\n\t\t\tproduct_name  : input_data.product_name, \n\t\t\tproduct_price : input_data.product_price,\n\t\t\tproduct_qty   : input_data.product_qty\n\t\t}];\n\t\tclearInput();\n\t}}\n\nfunction clearInput(){\n\tinput_data.product_name  = \"\";\n\tinput_data.product_price = \"\";\n\tinput_data.product_qty   = \"\";\n}\n\n// select item\nfunction selectItem(i){\n\tinput_data.product_name  = cart[i].product_name;\n\tinput_data.product_price = cart[i].product_price;\n\tinput_data.product_qty   = cart[i].product_qty;\n}\n\n// remove item\nfunction removeItem(i){\n\tcart.splice(i, 1)\n\tcart = cart;}\n\nfunction generateNewPurchaseId(){\n  \tvar randVal = 101+(Math.random()*(999-101));\n  \treturn \"180-\" + Date.now() + \"\" + Math.round(randVal);\n}\n\nfunction goBack(){\n  \twindow.history.back();\n}\n\nfunction checkoutToApi(statusChooser){\n  \t\t\n  \t\t// if status is 0 it means only save\n  \t\t// if status is 1 it means checkout\n  \t\tlet status = 0;\n  \t\tif(statusChooser == \"checkout\"){\n  \t\t\tstatus = 1;\n  \t\t}\n\n  \t\tif(cart.length == 0){\n  \t\t\talert(\"Keranjang checkout tidak boleh kosong\");\n  \t\t}\n\n  \t\telse{\n  \t\t\tlet confirm_changes;\n  \t\t\tif(status == 0){\n  \t\t\t\tconfirm_changes = confirm(\"Anda yakin akan menyimpan pembelian ini?\\n* Data masih bisa dirubah\");\n  \t\t\t}\n\n  \t\t\telse{\n  \t\t\t\tconfirm_changes = confirm(\"Anda yakin akan menyimpan pembelian ini?\\n* Dengan melakukan checkout data sudah tidak bisa dirubah lagi\");\n  \t\t\t}\n\n\t\t\tif (confirm_changes == true) {\n\t  \t\t\t// fill the object \n\t  \t\t\tpurchaseDetail.purchase_items = cart;\n\t  \t\t\tpurchaseDetail.purchase_status = status; \n\t  \t\t\t\n\t  \t\t\tfetch(\"http://127.0.0.1/lumeraAPI/pos_purchase/saveInventory.php\", {\n\t\t\t\t  method: \"POST\",\n\t\t\t\t  body: JSON.stringify(purchaseDetail),\n\t\t\t\t  headers: {\n\t\t\t\t    \"Content-Type\": \"application/x-www-form-urlencoded\"\n\t\t\t\t  }\n\t\t\t\t}).then(function(response) {\n\t\t\t\t  response.status     //=> number 100–599\n\t\t\t\t  response.statusText //=> String\n\t\t\t\t  response.headers    //=> Headers\n\t\t\t\t  response.url        //=> String\n\t\t\t\t  alert(\"Data berhasil disimpan\");\n\t\t\t\t  goBack();\n\t\t\t\t  console.log(response)\n\t\t\t\t}, function(error) {\n\t\t\t\t  error.message //=> String\n\t\t\t\t})\n\t\t\t}\n  \t\t}\n\n  \t}\n\n</script>\n\n<style>\n\n.container{\n\tfont-family: 'Lato';\n}\n\t\n</style>\n\n<div class=\"container mt-5\">\n\n\t<span class=\"badge badge-pill badge-primary mb-2\">ID PEMBELIAN #{purchaseDetail.purchase_id}</span>\n\t<span class=\"badge badge-pill badge-success\">PEMBELIAN BARU</span>\n\n\t<div class=\"row\">\n\t\t\n\t\t<!-- add new product -->\n\t\t<div class=\"col-lg-5\">\n\n\t\t\t<div class=\"card card-primary card-outline\">\n\n\t\t\t\t<form on:submit|preventDefault={addToCart(input_data.product_name)} class=\"mt-3\">\n\t\t\t\t\t\n\t\t\t\t\t<h5 style=\"margin-left: 20px;margin-top: 20px;margin-bottom: 20px;font-weight: bold;\">Tambah Pembelian Inventaris</h5>\n\n\t\t\t\t\t<!-- input name -->\n\t\t\t\t\t<div class=\"form-group col-md-12 ml-1 mr-1\">\n\t\t\t\t\t\t<label for=\"service important-form\">Nama Item</label>\n\t\t\t\t\t\t<input bind:value=\"{input_data.product_name}\" type=\"text\" placeholder=\"Masukkan Nama Barang\" required=\"true\" class=\"form-control\" id=\"service\">\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- input harga -->\n\t\t\t\t\t<div class=\"form-group col-md-12 ml-1 mr-1\">\n\t\t\t\t\t\t<label for=\"service important-form\">Harga Item</label>\n\t\t\t\t\t\t<input bind:value=\"{input_data.product_price}\" type=\"number\" required=\"true\" class=\"form-control\" id=\"service\" placeholder=\"Masukkan Harga\">\n\t\t\t\t\t\t<input type=\"text\" style=\"margin-top: 10px;\" disabled=\"true\" value={formatRupiah((input_data.product_price),\"Rp\")} class=\"form-control\" id=\"service\" placeholder=\"Rp. 0\">\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- input item -->\n\t\t\t\t\t<div class=\"form-group col-md-12 ml-1 mr-1\">\n\t\t\t\t\t\t<label for=\"service important-form\">Jumlah Item</label>\n\t\t\t\t\t\t<input type=\"number\" placeholder=\"Masukkan Jumlah Barang\" bind:value=\"{input_data.product_qty}\" required=\"true\" class=\"form-control\" id=\"service\">\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"card-footer\">\n\t\t\t\t        <button type=\"submit\" class=\"btn btn-primary\">\n\t\t\t\t           \tSIMPAN\n\t\t\t\t        </button>\n\t\t\t\t    </div>\n\n\t\t\t\t</form>\n\n\t\t\t</div>\n\n\t\t</div>\n\n\t\t<!-- cart -->\n\t\t<div class=\"col-lg-7\">\n\t\t\t\t\n\t\t\t<div class=\"card card-primary card-outline\" style=\"height: 300px;overflow-y: scroll;\">\n\t\t\t\t\n\t\t\t\t<table class=\"table\">\n\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<th>Nama Produk</th>\n\t\t\t\t\t\t<th>Harga Satuan</th>\n\t\t\t\t\t\t<th>Qty</th>\n\t\t\t\t\t\t<th>Total</th>\n\t\t\t\t\t\t<th>Aksi</th>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{#if cart.length == 0}\n\t\t\t\t\t\t\t<td>Belum ada data di cart</td>\n\t\t\t\t\t\t{:else if cart.length > 0}\n\t\t\t\t\t\t\t{#each cart as cart_item, i}\n\t\t\t\t\t\t\t\t<tr style=\"cursor: pointer;\" on:click={() => selectItem(i)}>\n\t\t\t\t\t\t\t\t\t<td>{cart_item.product_name}</td>\n\t\t\t\t\t\t\t\t\t<td>{formatRupiah(cart_item.product_price, \"Rp. \")}</td>\n\t\t\t\t\t\t\t\t\t<td>{cart_item.product_qty} pcs</td>\n\t\t\t\t\t\t\t\t\t<td>Rp. {formatRupiah(cart_item.product_price * cart_item.product_qty)}</td>\n\t\t\t\t\t\t\t\t\t<td class=\"td-actions\">\n\t                          \t\t\t<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger btn-icon btn-sm \" data-original-title=\"\" title=\"\"><i class=\"fa fa-trash pt-1\" on:click={() => removeItem(i)}></i></button>\n\t                       \t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t{/if}\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t</tbody>\n\n\t\t\t\t\t</table>\n\n\t\t\t\t</div>\n\n\t\t\t<div class=\"card card-primary card-outline\">\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-lg-4\">\n\t\t\t\t\t\t<div class=\"ml-4\">\n\t\t\t\t\t\t\t<p style=\"font-weight: bold;margin-bottom: 0px;margin-top: 10px;\">Total</p>\n\t\t\t\t\t\t\t<p style=\"font-family: bold;font-family: 'Lato';font-size: 18px;margin-top: 0px;\">{formatRupiah(purchaseDetail.purchase_total, \"Rp. \")}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-lg-8 row mt-4\" style=\"height: 20px;\">\n\t\t\t\t\t\t<button on:click={() => checkoutToApi(\"checkout\")} class=\"col btn btn-primary\">Checkout</button>\t\n\t\t\t\t\t\t<button on:click={() => checkoutToApi(\"save\")} class=\"col btn btn-outline-success\">Simpan</button>\n\t\t\t\t\t\t<button on:click={() => goBack()} class=\"col btn btn-outline-danger\">Batal</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>",
    "<script>\n\timport Navbar from './Navbar.svelte';\n\timport { fade, fly, slide } from 'svelte/transition';\n\timport { Router, Link, Route } from \"svelte-routing\";\n\timport { createEventDispatcher } from 'svelte';\n\n  // inisialisasi navbar\n  // navbar dibuat dalam bentuk json untuk mempermudah pengelolaan\n  let opened_navbar_item_tree = null;\n  let navbar_item = [\n    {\n      nav_id    : 0,\n      nav_body  : \"Dashboard\",\n      nav_icon  : \"fa fa-tachometer-alt\",\n      nav_child : [],\n      nav_to    : \"dashboard\"\n    },\n    {\n      nav_id    : 1,\n      nav_body  : \"Master Data\",\n      nav_icon  : \"fa fa-database\",\n      nav_show_child : false,\n      nav_child : [\n        {\n          nav_body : \"Staf\",\n          nav_icon : \"fa fa-user\",\n          nav_to   : \"staf\"\n        },\n        {\n          nav_body : \"Produk Kecantikan\",\n          nav_icon : \"fas fa-spa\",\n          nav_to   : \"produkkecantikan\"\n        },\n        {\n          nav_body : \"Layanan\",\n          nav_icon : \"fa fa-handshake\",\n          nav_to   : \"layanan\"\n        },\n        {\n          nav_body : \"Pasien\",\n          nav_icon : \"fa fa-address-book\",\n          nav_to   : \"pasien\"\n        }\n      ]\n    },\n    {\n      nav_id    : 2,\n      nav_body  : \"Pembelian\",\n      nav_icon  : \"fas fa-cart-plus\",\n      nav_child : [\n        {\n          nav_body : \"Produk Kecantikan\",\n          nav_icon : \"fas fa-spa\",\n          nav_to   : \"beli-produkkecantikan\"\n        },\n        {\n          nav_body : \"Inventaris\",\n          nav_icon : \"fa fa-cubes\",\n          nav_to   : \"beli-inventaris\"\n        },\n      ]\n    },\n    {\n      nav_id    : 3,\n      nav_body  : \"Penjualan\",\n      nav_icon  : \"fas fa-cash-register\",\n      nav_child : [\n        {\n          nav_body : \"Produk Kecantikan\",\n          nav_icon : \"fas fa-spa\",\n          nav_to   : \"produkkecantikan\"\n        },\n        {\n          nav_body : \"Klinik\",\n          nav_icon : \"far fa-circle\",\n          nav_to   : \"jasa\"\n        },\n        {\n          nav_body : \"Salon\",\n          nav_icon : \"far fa-circle\",\n          nav_to   : \"jasa\"\n        },\n      ]\n    },\n    {\n      nav_id    : 4,\n      nav_body  : \"Laporan\",\n      nav_icon  : \"fas fa-print\",\n      nav_child : [\n        {\n          nav_body : \"Produk Kecantikan\",\n          nav_icon : \"far fa-circle\",\n          nav_to   : \"produkkecantikan\"\n        },\n        {\n          nav_body : \"Jasa\",\n          nav_icon : \"far fa-circle\",\n          nav_to   : \"jasa\"\n        },\n      ]\n    },\n  ]\n\n\tconst dispatch = createEventDispatcher();\n\n\tlet container_margin = 0;\n\tlet sidebar_visible = 0;\n\tlet navbar_margin = 250;\n\tlet masterdatachild_visible = false;\n\t\n  // toggle sidebar\n\tfunction toggleSidebar(){\n\t\tif(sidebar_visible == 0){\n      navbar_margin    = 0;\n      container_margin = 0;\n      dispatch('message', {\n          text: container_margin\n      });\n      setTimeout(() => {\n        sidebar_visible  = -250;\n      },100);\n\t\t}\n\t\telse{\n\t\t\tsidebar_visible = 0;\n      setTimeout(() => {\n        container_margin = 250;\n        navbar_margin = 250;\n        dispatch('message', {\n          text: container_margin\n        });\n      },100);\n\t\t}\n\n\t}\n\t\n\n\tfunction toggleNav(parameter_arr_index){\n\n    if(navbar_item[parameter_arr_index].nav_child.length){\n      \n      if(navbar_item[parameter_arr_index].nav_show_child == true){\n        navbar_item[parameter_arr_index].nav_show_child = false;\n        opened_navbar_item_tree = null;\n      }\n      \n      else{\n        // untuk menutup navbar tree lain yang sedang terbuka\n        if(opened_navbar_item_tree != null){\n          navbar_item[opened_navbar_item_tree].nav_show_child = false;\n        }\n        // menyimpan navbar terakhir yang dibuka\n        navbar_item[parameter_arr_index].nav_show_child = true;\n        opened_navbar_item_tree = parameter_arr_index;\n      }\n    }\n     \n}\n\n</script>\n\n<style type=\"scss\">.sidebar-anim {\n  transition: all 0.6s ease-out; }\n  .sidebar-anim .brand-text-1 {\n    font-size: 14px;\n    color: #fff; }\n  .sidebar-anim .brand-text-2 {\n    font-size: 12px;\n    color: #fff; }\n\n.nav-argon-item {\n  position: relative;\n  cursor: pointer;\n  transition: all 0.1s ease; }\n  .nav-argon-item:hover {\n    opacity: 0.6; }\n\n.user-panel {\n  border-radius: 6px;\n  background-color: #fff !important;\n  color: #0d0d0d; }\n  .user-panel .user-authorization-info {\n    margin-left: 12px; }\n  .user-panel .user-authorization-name {\n    font-size: 13px; }\n  .user-panel .user-authorization-status {\n    font-size: 16px;\n    font-weight: bold;\n    margin-top: -3px; }\n  .user-panel .nav-icon {\n    color: blue; }\n\n/*# sourceMappingURL=Sidebar.svelte.css.map */</style>\n\n<!-- Main Sidebar Container -->\n<aside class=\"main-sidebar bg-primary elevation-4 sidebar-anim\" style=\"position: fixed;height: 100vh;transform: translateX({sidebar_visible}px);overflow-y: auto;\">\n  \n  <div class=\"text-white\" style=\"margin:7px;\"> \n\n    <!-- sidebar header -->\n    <a href=\"#\" class=\"brand-link\">\n      <div class=\"row w-100\">\n        <div class=\"col-4\">\n          <img src=\"./assets/img/logo.png\" alt=\"Lumera Logo\" style=\"width: 80px;height: 80px;\">\n        </div>\n        <div class=\"col-6 mt-3 ml-2\">\n          <p class=\"brand-text-1 mb-1 font-weight-light\">LumeraSys</p>\n          <p class=\"brand-text-2 mt-0 font-weight-bold\">Versi 1.0 rilis 2020</p>\n        </div>\n      </div>\n    </a>\n\n    <!-- Sidebar -->\n    <div class=\"sidebar\">\n      <!-- Sidebar user panel (optional) -->\n      <div class=\"user-panel mt-1 ml-0 d-flex elevation-2 pt-3 pl-3 pb-1\">\n          <!-- user profile image -->\n          <a href=\"javascript:;\" class=\"avatar rounded-circle\">\n              <img alt=\"Image placeholder\" src=\"./assets/img/profile_picture/avatar_1.jpg\">\n          </a>\n          <div class=\"user-authorization-info\">\n            <p class=\"user-authorization-name m-0 mb-1\">Ko Mi Ran</p>\n            <p class=\"user-authorization-status\">Administrator</p>\n          </div>\n      </div>\n\n      <hr class=\"mt-3 mb-4\" />\n\n      <!-- sidebar menu -->\n      <nav class=\"mt-3 container\">\n        {#each navbar_item as nav_item}\n          <!-- solusi sementara -->\n          {#if nav_item.nav_child.length > 0}\n            <div class=\"nav-argon-item mt-2\" on:click={()=>toggleNav(nav_item.nav_id)}>\n              <div class=\"row text-white position-relative\">\n                <i class=\"nav-icon {nav_item.nav_icon} mt-1 col-1 mr-0\"></i>\n                <p class=\"mt-0 col-10\">{nav_item.nav_body}</p>\n                {#if nav_item.nav_child.length > 0}\n                  <i class=\"fa fa-chevron-left\" style=\"position: absolute;right: 10px;top: 7px;font-size:13px;\"></i>\n                {/if}\n              </div>\n            </div> \n            {#if nav_item.nav_show_child == true}\n              <div transition:slide=\"{{ y: 100, duration: 300 }}\">\n                {#each nav_item.nav_child as nav_child}\n                  <Link to=\"{nav_child.nav_to}\">\n                    <div class=\"nav-argon-item row text-white position-relative ml-1\" on:click={()=>toggleNav(nav_item.nav_id)}>\n                      <i class=\"nav-icon {nav_child.nav_icon} mt-1 col-1 mr-0\"></i>\n                      <p class=\"mt-0 col-10\">{nav_child.nav_body}</p>\n                    </div> \n                  </Link>             \n                {/each}\n              </div>\n            {/if}\n          {/if}\n\n          {#if nav_item.nav_child.length == 0}\n            <Link to=\"{nav_item.nav_to}\">\n              <div class=\"nav-argon-item mt-2\">\n                <div class=\"row text-white position-relative\">\n                  <i class=\"nav-icon {nav_item.nav_icon} mt-1 col-1 mr-0\"></i>\n                  <p class=\"mt-0 col-10\">{nav_item.nav_body}</p>\n                  {#if nav_item.nav_child.length > 0}\n                    <i class=\"fa fa-chevron-left\" style=\"position: absolute;right: 10px;top: 7px;font-size:13px;\"></i>\n                  {/if}\n                </div>\n              </div> \n            </Link>\n          {/if}\n        {/each}\n      </nav>\n    </div>\n  </div>\n</aside>\n\n<!-- Navbar -->\n  <nav class=\"main-header navbar navbar-expand\" style=\"margin-left:{navbar_margin}px;transition:all 0.5s linear;padding: 0px 0px 18px 0px ;height:auto;background-color: #fff;\">\n    <!-- Left navbar links -->\n    <ul class=\"navbar-nav\">\n      <li class=\"nav-item\" style=\"cursor: pointer;\">\n        <a class=\"nav-link text-primary\" on:click={toggleSidebar} role=\"button\"><i class=\"fas fa-bars\"></i></a>\n      </li>\n    </ul>\n    <!-- Right navbar links -->\n    <ul class=\"navbar-nav ml-auto\">\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" data-widget=\"control-sidebar\" data-slide=\"true\" href=\"#\" role=\"button\"><i\n            class=\"fas fa-cogs\"></i></a>\n      </li>\n    </ul>\n  </nav>\n  <!-- /.navbar -->\n\n\n\n\n",
    "<script>\n\n  // controller\n  export let controller;\n  export let action = null;\n\n\timport { Router, Link, Route } from \"svelte-routing\";\n  import { onMount } from 'svelte';\n\n  let data_bind = [];\n  let data_raw = [];\n  let searchBox = \"\";\n  let num_of_page = [];\n  let active_first = 1;\n  let active_last = 15;\n  let active_now = 1;\n\n  let per_page_date = 15;\n\n  // search controller\n  $: {\n    if (searchBox != \"\" && data_raw != []){\n      // reset page\n      active_first = 1;\n      active_last = 15;\n      active_now = 1;\n      data_bind = [];\n      let i =0;\n      let counter = 0;\n      for(i = 0; i < searchBox.length;i++){\n        for(let j = 0; j < data_raw.length;j++){\n          let confirmed = 0;\n          let name = data_raw[j][controller.search_selector][\"data\"];\n          for(let c = 0; c < searchBox.length;c++){\n            if(searchBox[c].toLowerCase() == name[c].toLowerCase()){\n              confirmed = 1;\n            }\n            else{\n              confirmed = 0;\n              break;\n            }\n          }\n          if(confirmed == 1){\n            data_bind[counter] = data_raw[j];\n            counter++;\n          }\n        }\n        counter = 0;\n      }\n      console.log(\"Found \" + counter + \" matchs\");\n    }\n    else if(searchBox == \"\" && data_raw != []){\n      data_bind = data_raw;\n    }\n\n    // menghitung jumlah page yang akan digunakan\n    bindPage(data_bind.length);\n\n  }\n\n  // on mount\n  onMount(async() => {\n\n    fetch(controller.apiUrl, {\n        method : 'GET'\n    }).then(res => res.json())\n\n    .then(data => { \n      data_raw = data;\n      bindPage(data_raw.length);\n      console.log(data_raw);\n    })\n\n    .catch(err => {\n           \n    })\n  })\n\n  function formatRupiah(angka, prefix){\n      var number_string = angka.replace(/[^,\\d]/g, '').toString();\n      var split       = number_string.split(',');\n      var sisa        = split[0].length % 3;\n      var rupiah      = split[0].substr(0, sisa);\n      var ribuan      = split[0].substr(sisa).match(/\\d{3}/gi);\n\n      var separator;\n      // tambahkan titik jika yang di input sudah menjadi angka ribuan\n      if(ribuan){\n        separator = sisa ? '.' : '';\n        rupiah += separator + ribuan.join('.');\n      }\n \n      rupiah = split[1] != undefined ? rupiah + ',' + split[1] : rupiah;\n      return prefix == undefined ? rupiah : (rupiah ? 'Rp. ' + rupiah : '');\n    }\n\n  function formatTanggal(formattedtanggal){\n    var format = formattedtanggal.toString()\n    format = format.split(\"-\");\n    console.log(format);\n    var bulan = 0;\n    // mapping bulan\n    switch(format[1]){\n      case \"01\" : bulan = \"Januari\"; break;\n      case \"02\" : bulan = \"Februari\"; break; \n      case \"03\" : bulan = \"Maret\"; break;\n      case \"04\" : bulan = \"April\"; break;\n      case \"05\" : bulan = \"Mei\"; break; \n      case \"06\" : bulan = \"Juni\"; break;\n      case \"07\" : bulan = \"Juli\"; break;\n      case \"08\" : bulan = \"Agustus\"; break; \n      case \"09\" : bulan = \"September\"; break;\n      case \"10\" : bulan = \"Oktober\"; break;\n      case \"11\" : bulan = \"November\"; break; \n      case \"12\" : bulan = \"Desember\"; break;\n    }\n    \n\n    return format[2] + \" \" + bulan + \" \" + format[0];\n  }\n\n  function bindPage(amount_of_data){\n    let i = 0;\n    num_of_page = [];\n    while(amount_of_data >= per_page_date){\n      i = i + 1;\n      num_of_page.push(i);\n      amount_of_data -= per_page_date;\n    }\n    if(amount_of_data < per_page_date){\n      i = i + 1;\n      num_of_page.push(i);\n    }\n    console.log(num_of_page);\n  }\n\n  function choosePage(page){\n    if(page == 1){\n      active_first = 1;\n      active_last = 15;\n    }\n    else{\n      active_first = ((page - 1) * per_page_date) + 1;\n      active_last  = page * per_page_date;\n    }\n    active_now = page;\n    console.log(active_first);\n    console.log(active_last);\n  }\n\n</script>\n\n<style type=\"scss\">.page-heading {\n  display: flex;\n  position: relative; }\n  .page-heading i {\n    font-size: 30px; }\n\n.heading-tools {\n  position: absolute;\n  right: 12px;\n  display: flex;\n  top: 50%;\n  transform: translateY(-50%); }\n\n/*# sourceMappingURL=TableViewer.svelte.css.map */</style>\n\n    <!-- Main content -->\n    <section class=\"content\">\n      <div class=\"container-fluid\">\n        <div class=\"row\">\n          <div class=\"col-md-12\">\n            <div class=\"card card-primary card-outline\">\n              <div class=\"card-header\">\n                <div class=\"page-heading\">\n                  <i class=\"{controller.icon} mr-3 mt-3\"></i>\n                  <div>\n                    <h5 class=\"mb-0\">{controller.title}</h5>\n                    <p class=\"mt-1\">{controller.sub_title}</p>\n                  </div>\n                </div>\n                <div class=\"heading-tools\">\n                  <div class=\"form-group mr-2\">\n                    <div class=\"input-group\">\n                      <input class=\"form-control\" bind:value={searchBox} placeholder=\"Cari disini..\" type=\"text\">\n                      <div class=\"input-group-append\">\n                        <span class=\"input-group-text\"><i style=\"cursor: pointer;\" class=\"fa fa-search\"></i></span>\n                      </div>\n                    </div>\n                  </div>\n                  <Link to=\"{controller.name + \"/\" + controller.button.link}\">\n                    <button class=\"btn btn-primary btn-round btn-md\">\n                      <i class=\"{controller.button.icon} mr-2\"></i> {controller.button.text}\n                    </button>\n                  </Link>\n                </div>\n              </div>\n              <!-- /.card-header -->\n              <table class=\"table\">\n                <thead>\n                    <tr>\n                      {#each controller.table_header as table_title}\n                        <th>{table_title}</th>\n                      {/each}\n                    </tr>\n                </thead>\n                <tbody>\n                    {#each data_bind as parent_data, i}\n                      {#if i >= active_first - 1 && i < active_last}\n                        <tr>\n                        {#each parent_data as child_data}\n                          {#if child_data.type == \"price\"}\n                            <td class=\"{child_data.class}\">Rp. {formatRupiah(child_data.data)}</td>\n                          {:else if child_data.type == \"badge\"}\n                            <td><span class=\"{child_data.class}\" style=\"font-size: 16px\">{child_data.data}</span></td>\n                          {:else if child_data.type == \"badge_radio\"}\n                            <td><span class=\"{child_data.class}\" style=\"font-size: 16px\">{child_data.value}</span></td>\n                          {:else if child_data.type == \"text\"}\n                            <td>{child_data.data}</td>\n                            {:else if child_data.type == \"date\"}\n                            <td>{formatTanggal(child_data.data)}</td>\n                          {:else if child_data.type == \"id\"}\n                            <td>{i+1}</td>\n                          {/if}\n                        {/each}\n                        <td class=\"td-actions\">\n                          {#if action == null}\n                            <Link to=\"{controller.name + \"/edit/\" + parent_data[0].data}\">\n                              <button type=\"button\" rel=\"tooltip\" class=\"btn btn-info btn-icon btn-sm \" data-original-title=\"\" title=\"\">\n                                <i class=\"fa fa-pencil-ruler pt-1\"></i>\n                              </button>\n                            </Link>\n                          {:else if action != null && data_bind[i][3].data == 0}\n                            <Link to=\"{controller.name + \"/\" + parent_data[0].data}\">\n                              <button type=\"button\" rel=\"tooltip\" class=\"btn btn-info btn-icon btn-sm\" data-original-title=\"\" title=\"\">\n                                <i class=\"fa fa-pencil-ruler pt-1\"></i>\n                              </button>\n                            </Link>\n                          {:else if action != null && data_bind[i][3].data == 1}\n                            <Link to=\"{controller.name + \"/\" + parent_data[0].data}\">\n                              <button type=\"button\" rel=\"tooltip\" class=\"btn btn-success btn-icon btn-sm\" data-original-title=\"\" title=\"\">\n                                <i class=\"fa fa-print pt-1\"></i>\n                              </button>\n                            </Link>\n                          {/if}\n                          <!--\n                          <button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger btn-icon btn-sm \" data-original-title=\"\" title=\"\"><i class=\"fa fa-trash pt-1\"></i></button>-->\n                        </td>\n                        </tr>\n                      {/if}\n                    {/each}\n                </tbody>\n          </table>\n      </div><!-- /.container-fluid -->\n    </section>\n\n    <nav style=\"position: absolute;right: 100px;margin-top: 12px;}\">\n      <ul class=\"pagination pagination-lg\">\n        {#each num_of_page as page}\n          <li on:click=\"{choosePage(page)}\" class=\"page-item\" class:active=\"{active_now === page}\"><a class=\"page-link\">{page}</a></li>\n        {/each}\n      </ul>\n    </nav>\n"
  ],
  "names": [],
  "mappings": "AA8BC,8BAAgB,CAAC,AAChB,cAAc,CAAE,KAAK,CACrB,WAAW,CAAE,IAAI,AAClB,CAAC,AAED,oBAAM,CAAC,AACN,SAAS,CAAE,IAAI,AAChB,CAAC;AC+OD,sCAAU,CAAC,AACV,YAAY,MAAM,AACnB,CAAC,AAED,iCAAK,CAAC,AACL,UAAU,CAAE,MAAM,AACnB,CAAC,AAED,sBAAQ,CAAC,oBAAM,CAAE,mBAAK,CAAC,oBAAM,CAAC,AAC7B,YAAY,MAAM,CAClB,WAAW,CAAE,IAAI,AAClB,CAAC,AAED,yBAAW,CAAC,eAAC,CAAC,AACb,YAAY,IAAI,AACjB,CAAC,AAED,iCAAK,CAAC,AACL,OAAO,KAAK,AACb,CAAC,AAED,wBAAU,CAAC,2BAAa,CAAC,AACxB,YAAY,MAAM,CAClB,UAAU,IAAI,AACf,CAAC,AAED,wBAAU,CAAC,4BAAc,CAAC,AACzB,YAAY,MAAM,CAClB,UAAU,IAAI,CACd,WAAW,CAAE,IAAI,AAClB,CAAC,AAED,wBAAU,CAAC,eAAC,CAAC,AACZ,OAAO,CAAC,AACT,CAAC,AAED,yDAA6B,CAAC,AAC7B,OAAO,IAAI,AACZ,CAAC,AAED,2CAA6B,CAAC,eAAC,CAAC,AAC/B,UAAU,IAAI,AACf,CAAC,AAED,2CAA6B,CAAC,eAAC,CAAC,AAC/B,OAAO,IAAI,CACX,UAAU,GAAG,CACb,cAAc,GAAG,CACjB,MAAM,CAAE,OAAO,AAChB,CAAC,AAGD,iCAAK,2BAA2B,CAChC,iCAAK,2BAA2B,AAAC,CAAC,AAChC,kBAAkB,CAAE,IAAI,CACxB,MAAM,CAAE,CAAC,AACX,CAAC;ACrJF,yBAAU,CAAC,AACV,WAAW,CAAE,MAAM,AACpB,CAAC;ACzBkB,aAAa,4BAAC,CAAC,AAChC,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,AAAE,CAAC,AAChC,2BAAa,CAAC,aAAa,cAAC,CAAC,AAC3B,SAAS,CAAE,IAAI,CACf,KAAK,CAAE,IAAI,AAAE,CAAC,AAChB,2BAAa,CAAC,aAAa,cAAC,CAAC,AAC3B,SAAS,CAAE,IAAI,CACf,KAAK,CAAE,IAAI,AAAE,CAAC,AAElB,eAAe,4BAAC,CAAC,AACf,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IAAI,AAAE,CAAC,AAC5B,2CAAe,MAAM,AAAC,CAAC,AACrB,OAAO,CAAE,GAAG,AAAE,CAAC,AAEnB,WAAW,4BAAC,CAAC,AACX,aAAa,CAAE,GAAG,CAClB,gBAAgB,CAAE,IAAI,CAAC,UAAU,CACjC,KAAK,CAAE,OAAO,AAAE,CAAC,AACjB,yBAAW,CAAC,wBAAwB,cAAC,CAAC,AACpC,WAAW,CAAE,IAAI,AAAE,CAAC,AACtB,yBAAW,CAAC,wBAAwB,cAAC,CAAC,AACpC,SAAS,CAAE,IAAI,AAAE,CAAC,AACpB,yBAAW,CAAC,0BAA0B,cAAC,CAAC,AACtC,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,IAAI,CACjB,UAAU,CAAE,IAAI,AAAE,CAAC;ACnCJ,aAAa,8BAAC,CAAC,AAChC,OAAO,CAAE,IAAI,CACb,QAAQ,CAAE,QAAQ,AAAE,CAAC,AACrB,4BAAa,CAAC,CAAC,eAAC,CAAC,AACf,SAAS,CAAE,IAAI,AAAE,CAAC,AAEtB,cAAc,8BAAC,CAAC,AACd,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,GAAG,CACR,SAAS,CAAE,WAAW,IAAI,CAAC,AAAE,CAAC"
}